'use strict';var a33_0x299b19=a33_0x3f1f;(function(_0x5b0115,_0x59a81c){var _0x42dd11=a33_0x3f1f,_0x3d8b56=_0x5b0115();while(!![]){try{var _0x40130b=parseInt(_0x42dd11(0xb3))/0x1+parseInt(_0x42dd11(0xd0))/0x2*(-parseInt(_0x42dd11(0xd3))/0x3)+-parseInt(_0x42dd11(0x89))/0x4+parseInt(_0x42dd11(0xce))/0x5+parseInt(_0x42dd11(0x8e))/0x6*(-parseInt(_0x42dd11(0xca))/0x7)+parseInt(_0x42dd11(0xb5))/0x8*(parseInt(_0x42dd11(0xc9))/0x9)+-parseInt(_0x42dd11(0x8a))/0xa*(parseInt(_0x42dd11(0x95))/0xb);if(_0x40130b===_0x59a81c)break;else _0x3d8b56['push'](_0x3d8b56['shift']());}catch(_0x475a30){_0x3d8b56['push'](_0x3d8b56['shift']());}}}(a33_0x2c34,0xb403f));function a33_0x3f1f(_0xba9a3,_0x4b04f4){var _0x2c347a=a33_0x2c34();return a33_0x3f1f=function(_0x3f1f71,_0x2534f0){_0x3f1f71=_0x3f1f71-0x85;var _0x3d1176=_0x2c347a[_0x3f1f71];return _0x3d1176;},a33_0x3f1f(_0xba9a3,_0x4b04f4);}var __awaiter=this&&this[a33_0x299b19(0x97)]||function(_0x270727,_0x14875b,_0x1a70d6,_0x47e2ba){function _0x3dcd03(_0x27494c){return _0x27494c instanceof _0x1a70d6?_0x27494c:new _0x1a70d6(function(_0x4e7244){_0x4e7244(_0x27494c);});}return new(_0x1a70d6||(_0x1a70d6=Promise))(function(_0x23e433,_0x26fe40){var _0xffb797=a33_0x3f1f;function _0xcb7f1e(_0x349b30){try{_0x5d358b(_0x47e2ba['next'](_0x349b30));}catch(_0x3d9f92){_0x26fe40(_0x3d9f92);}}function _0x1d47c5(_0x3ebaed){try{_0x5d358b(_0x47e2ba['throw'](_0x3ebaed));}catch(_0x8edbfc){_0x26fe40(_0x8edbfc);}}function _0x5d358b(_0x322353){var _0x505579=a33_0x3f1f;_0x322353[_0x505579(0xa4)]?_0x23e433(_0x322353[_0x505579(0xc5)]):_0x3dcd03(_0x322353['value'])[_0x505579(0xb7)](_0xcb7f1e,_0x1d47c5);}_0x5d358b((_0x47e2ba=_0x47e2ba[_0xffb797(0xb8)](_0x270727,_0x14875b||[]))[_0xffb797(0xa1)]());});},__generator=this&&this[a33_0x299b19(0x9e)]||function(_0x40da49,_0x266b06){var _0x4b29e5=a33_0x299b19,_0x1fc7cd={'label':0x0,'sent':function(){if(_0x6c8732[0x0]&0x1)throw _0x6c8732[0x1];return _0x6c8732[0x1];},'trys':[],'ops':[]},_0x5af43a,_0x35050b,_0x6c8732,_0x5095a6;return _0x5095a6={'next':_0x539ce4(0x0),'throw':_0x539ce4(0x1),'return':_0x539ce4(0x2)},typeof Symbol===_0x4b29e5(0xae)&&(_0x5095a6[Symbol[_0x4b29e5(0x93)]]=function(){return this;}),_0x5095a6;function _0x539ce4(_0x3b339e){return function(_0x4fa861){return _0x3eeb93([_0x3b339e,_0x4fa861]);};}function _0x3eeb93(_0x1795a9){var _0x421fd4=_0x4b29e5;if(_0x5af43a)throw new TypeError(_0x421fd4(0xd1));while(_0x1fc7cd)try{if(_0x5af43a=0x1,_0x35050b&&(_0x6c8732=_0x1795a9[0x0]&0x2?_0x35050b['return']:_0x1795a9[0x0]?_0x35050b['throw']||((_0x6c8732=_0x35050b[_0x421fd4(0xc6)])&&_0x6c8732[_0x421fd4(0x8c)](_0x35050b),0x0):_0x35050b[_0x421fd4(0xa1)])&&!(_0x6c8732=_0x6c8732[_0x421fd4(0x8c)](_0x35050b,_0x1795a9[0x1]))[_0x421fd4(0xa4)])return _0x6c8732;if(_0x35050b=0x0,_0x6c8732)_0x1795a9=[_0x1795a9[0x0]&0x2,_0x6c8732[_0x421fd4(0xc5)]];switch(_0x1795a9[0x0]){case 0x0:case 0x1:_0x6c8732=_0x1795a9;break;case 0x4:_0x1fc7cd['label']++;return{'value':_0x1795a9[0x1],'done':![]};case 0x5:_0x1fc7cd['label']++,_0x35050b=_0x1795a9[0x1],_0x1795a9=[0x0];continue;case 0x7:_0x1795a9=_0x1fc7cd[_0x421fd4(0xa7)][_0x421fd4(0xa2)](),_0x1fc7cd[_0x421fd4(0xa9)][_0x421fd4(0xa2)]();continue;default:if(!(_0x6c8732=_0x1fc7cd[_0x421fd4(0xa9)],_0x6c8732=_0x6c8732[_0x421fd4(0xb2)]>0x0&&_0x6c8732[_0x6c8732['length']-0x1])&&(_0x1795a9[0x0]===0x6||_0x1795a9[0x0]===0x2)){_0x1fc7cd=0x0;continue;}if(_0x1795a9[0x0]===0x3&&(!_0x6c8732||_0x1795a9[0x1]>_0x6c8732[0x0]&&_0x1795a9[0x1]<_0x6c8732[0x3])){_0x1fc7cd[_0x421fd4(0xcc)]=_0x1795a9[0x1];break;}if(_0x1795a9[0x0]===0x6&&_0x1fc7cd['label']<_0x6c8732[0x1]){_0x1fc7cd[_0x421fd4(0xcc)]=_0x6c8732[0x1],_0x6c8732=_0x1795a9;break;}if(_0x6c8732&&_0x1fc7cd['label']<_0x6c8732[0x2]){_0x1fc7cd[_0x421fd4(0xcc)]=_0x6c8732[0x2],_0x1fc7cd[_0x421fd4(0xa7)][_0x421fd4(0xa8)](_0x1795a9);break;}if(_0x6c8732[0x2])_0x1fc7cd[_0x421fd4(0xa7)][_0x421fd4(0xa2)]();_0x1fc7cd[_0x421fd4(0xa9)][_0x421fd4(0xa2)]();continue;}_0x1795a9=_0x266b06[_0x421fd4(0x8c)](_0x40da49,_0x1fc7cd);}catch(_0x4003a7){_0x1795a9=[0x6,_0x4003a7],_0x35050b=0x0;}finally{_0x5af43a=_0x6c8732=0x0;}if(_0x1795a9[0x0]&0x5)throw _0x1795a9[0x1];return{'value':_0x1795a9[0x0]?_0x1795a9[0x1]:void 0x0,'done':!![]};}};Object[a33_0x299b19(0x9b)](exports,a33_0x299b19(0xbf),{'value':!![]}),exports[a33_0x299b19(0x91)]=void 0x0;var bson_1=require(a33_0x299b19(0xa5)),basedb_1=require('./basedb'),constant_1=require(a33_0x299b19(0xb6)),datatype_serializer_1=require('./db-serializer/datatype-serializer'),update_serializer_1=require(a33_0x299b19(0xb0)),error_1=require(a33_0x299b19(0xd6)),util_1=require('./util'),util_2=require('./util'),DocumentReference=(function(){var _0x844af=a33_0x299b19;function _0x36a09a(_0x3ab0ef,_0x3d1a43,_0x39a7e7){var _0x573a04=a33_0x3f1f;this[_0x573a04(0xcf)]=_0x3ab0ef,this[_0x573a04(0xd5)]=_0x3d1a43,this['id']=_0x39a7e7,this[_0x573a04(0x8b)]=new basedb_1[(_0x573a04(0xbd))]['reqClass'](this[_0x573a04(0xcf)]['config']);}return _0x36a09a[_0x844af(0x99)][_0x844af(0x85)]=function(){var _0x40546a,_0x3947e8;return __awaiter(this,void 0x0,void 0x0,function(){var _0xe5cdd1,_0x26bda5,_0x2e49ce,_0x2bb52a,_0xc783a0;return __generator(this,function(_0x115103){var _0x724d98=a33_0x3f1f;switch(_0x115103[_0x724d98(0xcc)]){case 0x0:_0xe5cdd1=(0x0,util_2[_0x724d98(0xab)])({'_id':this['id']}),_0x26bda5={'collection_name':this['_coll'],'query':_0xe5cdd1,'query_type':constant_1[_0x724d98(0xbb)]['DOC'],'multi':![]};return[0x4,this[_0x724d98(0x8b)][_0x724d98(0xba)](constant_1['DatabaseAPIAction'][_0x724d98(0x8d)],_0x26bda5,constant_1[_0x724d98(0x96)]['doc.get'])];case 0x1:_0x2e49ce=_0x115103[_0x724d98(0x9a)](),_0x2bb52a=(_0x40546a=_0x2e49ce===null||_0x2e49ce===void 0x0?void 0x0:_0x2e49ce['list'])===null||_0x40546a===void 0x0?void 0x0:_0x40546a['map'](function(_0x1b0cb2){var _0x4f8d67=_0x724d98;return bson_1['EJSON'][_0x4f8d67(0xb4)](_0x1b0cb2);}),_0xc783a0=util_1[_0x724d98(0xad)][_0x724d98(0x86)](_0x2bb52a!==null&&_0x2bb52a!==void 0x0?_0x2bb52a:[]);return[0x2,{'data':_0xc783a0,'requestId':(_0x3947e8=_0x2e49ce===null||_0x2e49ce===void 0x0?void 0x0:_0x2e49ce[_0x724d98(0xc3)])!==null&&_0x3947e8!==void 0x0?_0x3947e8:''}];}});});},_0x36a09a[_0x844af(0x99)][_0x844af(0x94)]=function(_0x5d1896){var _0xff1bc0,_0x3a12f6;return __awaiter(this,void 0x0,void 0x0,function(){var _0x28683c,_0x2aadb2;return __generator(this,function(_0x17ab50){var _0x12278e=a33_0x3f1f;switch(_0x17ab50[_0x12278e(0xcc)]){case 0x0:if(!(0x0,util_1[_0x12278e(0xd2)])(this['id'])||this['id']===''){(0x0,error_1[_0x12278e(0x90)])(error_1['SDKErrors'][_0x12278e(0x9d)][_0x12278e(0x94)][_0x12278e(0xc2)],constant_1['DatabaseMethod']['doc.set']);throw new error_1[(_0x12278e(0xac))](error_1['SDKErrors'][_0x12278e(0x9d)][_0x12278e(0x94)][_0x12278e(0xc2)]);}if(!(_0x5d1896&&(0x0,util_1['getType'])(_0x5d1896)==='object'&&Object[_0x12278e(0xa0)](_0x5d1896)[_0x12278e(0xb2)]>0x0)){(0x0,error_1[_0x12278e(0x90)])(error_1[_0x12278e(0xbe)][_0x12278e(0x9d)][_0x12278e(0x94)][_0x12278e(0xc0)],constant_1['DatabaseMethod'][_0x12278e(0xb9)]);throw new error_1[(_0x12278e(0xac))](error_1['SDKErrors'][_0x12278e(0x9d)]['set'][_0x12278e(0xc0)]);}if((0x0,util_2[_0x12278e(0xbc)])(_0x5d1896,_0x12278e(0xcd))){(0x0,error_1[_0x12278e(0x90)])(error_1[_0x12278e(0xbe)][_0x12278e(0x9d)][_0x12278e(0x94)][_0x12278e(0x87)],constant_1[_0x12278e(0x96)][_0x12278e(0xb9)]);throw new error_1[(_0x12278e(0xac))](error_1[_0x12278e(0xbe)][_0x12278e(0x9d)][_0x12278e(0x94)][_0x12278e(0x87)]);}_0x28683c={'collection_name':this['_coll'],'query_type':constant_1[_0x12278e(0xbb)][_0x12278e(0xd4)],'update_data':(0x0,util_2[_0x12278e(0xab)])((0x0,datatype_serializer_1[_0x12278e(0xa3)])(_0x5d1896)),'multi':![],'merge':![],'upsert':!![]};this['id']&&(_0x28683c=Object['assign'](_0x28683c,{'query':(0x0,util_2[_0x12278e(0xab)])({'_id':this['id']})}));return[0x4,this['_request'][_0x12278e(0xba)](constant_1[_0x12278e(0x92)][_0x12278e(0xc1)],(0x0,util_1[_0x12278e(0x98)])(_0x28683c),constant_1[_0x12278e(0x96)][_0x12278e(0xb9)])];case 0x1:_0x2aadb2=_0x17ab50[_0x12278e(0x9a)]();return[0x2,{'updated':(_0xff1bc0=_0x2aadb2===null||_0x2aadb2===void 0x0?void 0x0:_0x2aadb2['updated'])!==null&&_0xff1bc0!==void 0x0?_0xff1bc0:0x0,'requestId':(_0x3a12f6=_0x2aadb2===null||_0x2aadb2===void 0x0?void 0x0:_0x2aadb2[_0x12278e(0xc3)])!==null&&_0x3a12f6!==void 0x0?_0x3a12f6:''}];}});});},_0x36a09a[_0x844af(0x99)]['update']=function(_0xcb18f){var _0x10798e,_0xeb0d45;return __awaiter(this,void 0x0,void 0x0,function(){var _0x302b55,_0x4b01c7;return __generator(this,function(_0x467408){var _0x46baef=a33_0x3f1f;switch(_0x467408[_0x46baef(0xcc)]){case 0x0:if(!(0x0,util_1[_0x46baef(0xd2)])(this['id'])||this['id']===''){(0x0,error_1['ReportDataBaseError'])(error_1[_0x46baef(0xbe)]['doc'][_0x46baef(0xa6)][_0x46baef(0xcb)],constant_1['DatabaseMethod'][_0x46baef(0x88)]);throw new error_1['DataBaseError'](error_1[_0x46baef(0xbe)][_0x46baef(0x9d)][_0x46baef(0xa6)][_0x46baef(0xcb)]);}if(!(_0xcb18f&&(0x0,util_1['getType'])(_0xcb18f)===_0x46baef(0x9f)&&Object['keys'](_0xcb18f)[_0x46baef(0xb2)]>0x0)){(0x0,error_1[_0x46baef(0x90)])(error_1[_0x46baef(0xbe)][_0x46baef(0x9d)][_0x46baef(0xa6)][_0x46baef(0x9c)],constant_1['DatabaseMethod'][_0x46baef(0x88)]);throw new error_1['DataBaseError'](error_1[_0x46baef(0xbe)][_0x46baef(0x9d)]['update'][_0x46baef(0x9c)]);}if((0x0,util_2['hasOwnProperty'])(_0xcb18f,_0x46baef(0xcd))){(0x0,error_1[_0x46baef(0x90)])(error_1['SDKErrors'][_0x46baef(0x9d)][_0x46baef(0xa6)][_0x46baef(0xaa)],constant_1[_0x46baef(0x96)][_0x46baef(0x88)]);throw new error_1[(_0x46baef(0xac))](error_1[_0x46baef(0xbe)][_0x46baef(0x9d)][_0x46baef(0xa6)]['UPDATE_PARAM_HAS_ID_ERROR']);}_0x302b55={'collection_name':this[_0x46baef(0xd5)],'update_data':update_serializer_1[_0x46baef(0x8f)]['encodeEJSON'](_0xcb18f),'query_type':constant_1['QueryType'][_0x46baef(0xd4)],'multi':![],'merge':!![],'upsert':![]};this['id']&&(_0x302b55=Object[_0x46baef(0xb1)](_0x302b55,{'query':(0x0,util_2[_0x46baef(0xab)])({'_id':this['id']})}));return[0x4,this[_0x46baef(0x8b)][_0x46baef(0xba)](constant_1[_0x46baef(0x92)][_0x46baef(0xc1)],(0x0,util_1[_0x46baef(0x98)])(_0x302b55),constant_1[_0x46baef(0x96)][_0x46baef(0x88)])];case 0x1:_0x4b01c7=_0x467408[_0x46baef(0x9a)]();return[0x2,{'updated':(_0x10798e=_0x4b01c7===null||_0x4b01c7===void 0x0?void 0x0:_0x4b01c7[_0x46baef(0xc8)])!==null&&_0x10798e!==void 0x0?_0x10798e:0x0,'requestId':(_0xeb0d45=_0x4b01c7===null||_0x4b01c7===void 0x0?void 0x0:_0x4b01c7['request_id'])!==null&&_0xeb0d45!==void 0x0?_0xeb0d45:''}];}});});},_0x36a09a[_0x844af(0x99)][_0x844af(0xc4)]=function(){var _0x5c3e51,_0x1d441b;return __awaiter(this,void 0x0,void 0x0,function(){var _0x3f5ba1,_0x10209c,_0x450357;return __generator(this,function(_0x56eee3){var _0x35a667=a33_0x3f1f;switch(_0x56eee3[_0x35a667(0xcc)]){case 0x0:_0x3f5ba1=(0x0,util_2['stringifyByEJSON'])({'_id':this['id']}),_0x10209c={'collection_name':this[_0x35a667(0xd5)],'query':_0x3f5ba1,'query_type':constant_1[_0x35a667(0xbb)]['DOC'],'multi':![]};return[0x4,this[_0x35a667(0x8b)][_0x35a667(0xba)](constant_1[_0x35a667(0x92)][_0x35a667(0xaf)],_0x10209c,constant_1['DatabaseMethod'][_0x35a667(0xc7)])];case 0x1:_0x450357=_0x56eee3['sent']();return[0x2,{'deleted':(_0x5c3e51=_0x450357['deleted'])!==null&&_0x5c3e51!==void 0x0?_0x5c3e51:0x0,'requestId':(_0x1d441b=_0x450357['request_id'])!==null&&_0x1d441b!==void 0x0?_0x1d441b:''}];}});});},_0x36a09a;}());exports['DocumentReference']=DocumentReference;function a33_0x2c34(){var _0x6db9a2=['serialize','done','bson','update','ops','push','trys','UPDATE_PARAM_HAS_ID_ERROR','stringifyByEJSON','DataBaseError','Util','function','database.removeDocument','./db-serializer/update-serializer','assign','length','1358450pzScIx','parse','66008pJtOva','./constant','then','apply','doc.set','send','QueryType','hasOwnProperty','baseDb','SDKErrors','__esModule','SET_PARAM_OBJECT_ERROR','database.updateDocument','SET_PARAM_ERROR','request_id','remove','value','return','doc.remove','updated','1557vPdSQO','329JKFOUH','UPDATE_PARAM_ERROR','label','_id','7259920IOyrdp','_db','18reEnsc','Generator\x20is\x20already\x20executing.','isString','352794GfdQor','DOC','_coll','./error','get','formatResDocumentData','SET_PARAM_HAS_ID_ERROR','doc.update','4453124bCjzdt','10FxhVOQ','_request','call','database.getDocument','98460ujkfNq','UpdateSerializer','ReportDataBaseError','DocumentReference','DatabaseAPIAction','iterator','set','6133391MwQotK','DatabaseMethod','__awaiter','formatRequestServerDateParams','prototype','sent','defineProperty','UPDATE_PARAM_OBJECT_ERROR','doc','__generator','object','keys','next','pop'];a33_0x2c34=function(){return _0x6db9a2;};return a33_0x2c34();}