const a28_0x4aee34=a28_0x1d60;(function(_0x46c36f,_0x47e8a8){const _0x4f3da5=a28_0x1d60,_0x1f7824=_0x46c36f();while(!![]){try{const _0x2dfd2d=-parseInt(_0x4f3da5(0xb1))/0x1*(parseInt(_0x4f3da5(0xa4))/0x2)+parseInt(_0x4f3da5(0xa5))/0x3+parseInt(_0x4f3da5(0xa3))/0x4+parseInt(_0x4f3da5(0xbc))/0x5+parseInt(_0x4f3da5(0xaf))/0x6*(parseInt(_0x4f3da5(0xb4))/0x7)+-parseInt(_0x4f3da5(0xbb))/0x8+parseInt(_0x4f3da5(0xaa))/0x9*(-parseInt(_0x4f3da5(0xab))/0xa);if(_0x2dfd2d===_0x47e8a8)break;else _0x1f7824['push'](_0x1f7824['shift']());}catch(_0x2b8a22){_0x1f7824['push'](_0x1f7824['shift']());}}}(a28_0x3f39,0x85144));function a28_0x3f39(){const _0x3643d8=['ADD_PARAM_ERROR','slice','get','774OVyAqH','126510jdtDgD','prototype','map','length','96270bvvWrE','database.addDocument','284717kGILEQ','_db','collection','448PsgmTo','INVALID_PARAM','assign','toString','string','request_id','doc','7461096zZmKwf','5437775bYreIZ','resetHasServerDate','_request','send','Object','add','_coll','GET_PARAM_ERROR','726416Gjfsdv','4XNSiZm','2517330mlcuQu','inserted_ids'];a28_0x3f39=function(){return _0x3643d8;};return a28_0x3f39();}import{DocumentReference}from'./document';import{DataBaseError,ErrorMsg,ERRORS}from'./Errors';import{Query}from'./query';import{serialize}from'./serializer/datatype';import{ServerDate}from'./serverDate';import{isArray}from'./typings/';function a28_0x1d60(_0x450fd4,_0x55e99b){const _0x3f3938=a28_0x3f39();return a28_0x1d60=function(_0x1d6029,_0x225d8d){_0x1d6029=_0x1d6029-0x9f;let _0x1db7e0=_0x3f3938[_0x1d6029];return _0x1db7e0;},a28_0x1d60(_0x450fd4,_0x55e99b);}import{formatRequestServerDateParams,stringifyByEJSON}from'./util';export class CollectionReference extends Query{constructor(_0x3ab49d,_0x593b9a,_0x1fe2c2){const _0x351c7e=a28_0x1d60;super(_0x3ab49d,_0x593b9a,'',_0x1fe2c2),ServerDate[_0x351c7e(0xbd)]();}[a28_0x4aee34(0xba)](_0x4961cf){const _0x43e93e=a28_0x4aee34;if(typeof _0x4961cf!==_0x43e93e(0xb8)||_0x4961cf==='')throw new DataBaseError(Object[_0x43e93e(0xb6)](Object[_0x43e93e(0xb6)]({},ERRORS[_0x43e93e(0xb5)]),{'errMsg':ErrorMsg[_0x43e93e(0xba)][_0x43e93e(0xa9)][_0x43e93e(0xa2)]}));return new DocumentReference(this[_0x43e93e(0xb2)],this[_0x43e93e(0xa1)],_0x4961cf);}async[a28_0x4aee34(0xa0)](_0x442f53){const _0x570600=a28_0x4aee34;var _0x255bb1,_0x19d563,_0x1a86bd;let _0xc28e2c=_0x442f53;if(Object[_0x570600(0xac)][_0x570600(0xb7)]['call'](_0x442f53)[_0x570600(0xa8)](0x8,-0x1)!==_0x570600(0x9f))throw new DataBaseError(Object[_0x570600(0xb6)](Object['assign']({},ERRORS[_0x570600(0xb5)]),{'errMsg':ErrorMsg[_0x570600(0xb3)]['add'][_0x570600(0xa7)]}));_0xc28e2c=[_0x442f53],_0xc28e2c=_0xc28e2c[_0x570600(0xad)](_0x1efb20=>stringifyByEJSON(serialize(_0x1efb20)));const _0x378f83={'collection_name':this['_coll'],'insert_data':_0xc28e2c},_0x570bbe=await this[_0x570600(0xbe)][_0x570600(0xbf)](_0x570600(0xb0),formatRequestServerDateParams(_0x378f83));if(!isArray(_0x442f53)&&((_0x255bb1=_0x570bbe===null||_0x570bbe===void 0x0?void 0x0:_0x570bbe[_0x570600(0xa6)])===null||_0x255bb1===void 0x0?void 0x0:_0x255bb1[_0x570600(0xae)])>0x0)return{'id':_0x570bbe['inserted_ids'][0x0],'requestId':(_0x19d563=_0x570bbe[_0x570600(0xb9)])!==null&&_0x19d563!==void 0x0?_0x19d563:''};return{'id':_0x570bbe===null||_0x570bbe===void 0x0?void 0x0:_0x570bbe[_0x570600(0xa6)],'requestId':(_0x1a86bd=_0x570bbe===null||_0x570bbe===void 0x0?void 0x0:_0x570bbe[_0x570600(0xb9)])!==null&&_0x1a86bd!==void 0x0?_0x1a86bd:''};}}